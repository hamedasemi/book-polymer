<!doctype html>
<html>

<head>

    <meta charset="utf-8">
    <title>Webcomponent test</title>
    <script src="../../web-component-tester/browser.js"></script>
    <link rel="import" href="x-validator.html">

</head>

<body>

    <test-fixture id="x-validator">
        <template>
            <x-validator></x-validator>
        </template>
    </test-fixture>

    <script>

        suite('<x-validator>', function () {

            let element;
            setup(() => {
                element = fixture('x-validator');
            });

            suite('valid postal code', function () {

                test('when 5 digits', () => {
                    expect(element.isValidPostalCode(`12345`)).to.be.equal(true);
                });

            });

            suite('NOT valid postal code', function () {

                test('when empty string', () => {
                    expect(element.isValidPostalCode(``)).to.be.equal(false);
                });

                test('when null', () => {
                    expect(element.isValidPostalCode(null)).to.be.equal(false);
                });

                test('when alphabetic character', () => {
                    expect(element.isValidPostalCode(`1234a`)).to.be.equal(false);
                });

                test('when 4 digits', () => {
                    expect(element.isValidPostalCode(`1234`)).to.be.equal(false);
                });

                test('when 6 digits', () => {
                    expect(element.isValidPostalCode(`123456`)).to.be.equal(false);
                });

            });

            suite('valid personal number', function () {

                test('when 12 digits', () => {
                    expect(element.isValidPersonalNumber(`198606283516`)).to.be.equal(true);
                });

                test('when 8 digits + dash + 4 digits', () => {
                    expect(element.isValidPersonalNumber(`19860628-3516`)).to.be.equal(true);
                });

                test('when 10 digits', () => {
                    expect(element.isValidPersonalNumber(`8606283516`)).to.be.equal(true);
                });

                test('when 6 digits + dash + 4 digits', () => {
                    expect(element.isValidPersonalNumber(`860628-3516`)).to.be.equal(true);
                });

            });

            suite('NOT valid personal number', function () {

                test('when empty string', () => {
                    expect(element.isValidPersonalNumber(``)).to.be.equal(false);
                });

                test('when null', () => {
                    expect(element.isValidPersonalNumber(null)).to.be.equal(false);
                });

                test('when alphabetic character', () => {
                    expect(element.isValidPersonalNumber(`19860628351a`)).to.be.equal(false);
                });

                test('when 8 digits + dash + 3 digits', () => {
                    expect(element.isValidPersonalNumber(`198606283-516`)).to.be.equal(false);
                });

                test('when 8 digits + dash + 5 digits', () => {
                    expect(element.isValidPersonalNumber(`19860628-35161`)).to.be.equal(false);
                });

                test('when 6 digits + dash + 3 digits', () => {
                    expect(element.isValidPersonalNumber(`860628-351`)).to.be.equal(false);
                });

                test('when 6 digits + dash + 5 digits', () => {
                    expect(element.isValidPersonalNumber(`860628-351`)).to.be.equal(false);
                });

            });
            suite(`isValidPersonalNumberChecksum`, function () {


                test(`when length is 10`, () => {
                    expect(element.isValidPersonalNumberChecksum(`860628-3516`)).to.be.equal(true)
                });
                test(`when input have whiteSpaces`, () => {
                    expect(element.isValidPersonalNumberChecksum(`8606 28-351  6`)).to.be.equal(true)
                });
                test(`when the input is 12 digit `, () => {
                    expect(element.isValidPersonalNumberChecksum(`11860628-3516`)).
                        to.equal(element.isValidPersonalNumberChecksum(`860628-3516`))
                });
                test(`PersonalNo, is the format correct`, () => {
                    expect(element.isValidPersonalNumberChecksum(`861428-3516`)).to.be.equal(true)
                });

            });

            suite(`Not isValidPersonalNumberChecksum `, function () {

                test(`when the input not digit`, () => {
                    expect(element.isValidPersonalNumberChecksum(`xxxxxx-xxxx`)).to.be.equal(false)
                });
                test(`when the input contains other character`, () => {
                    expect(element.isValidPersonalNumberChecksum(`44!115-3516`)).to.be.equal(false)
                });
                test(`when the input have more that 12 digit`, () => {
                    expect(element.isValidPersonalNumberChecksum(`861401-35165`)).to.be.equal(false)
                });

            });

            suite(`isValidEmailAddress`, function () {
                test(`when email conatians . dot `, () => {
                    const emailAddress = element.isValidEmailAddress(`fname.lname@gmail.com`)
                    assert.equal(emailAddress, true)
                });
                test(`when email contains . dot with subdomain`, () => {
                    const emailAddress = element.isValidEmailAddress(`fname.lname@subdomain.domain.com`)
                    assert.equal(emailAddress, true)
                });
                test(`when email contains underscore`, () => {
                    const emailAddress = element.isValidEmailAddress(`_______@domain.com`)
                    assert.equal(emailAddress, true)
                });
                test(`when email consistes of plus sign + `, () => {
                    const emailAddress = element.isValidEmailAddress(`first+lastname@domain.com`)
                    assert.equal(emailAddress, true)
                });
                test(`when email contains dash  + `, () => {
                    const emailAddress = element.isValidEmailAddress(`first-lastname@domain.com`)
                    assert.equal(emailAddress, true)
                });

            })

            suite(`NOT ValidEmailAddress`, function () {

                test(`when email conatians TWO @@ `, () => {
                    const emailAddress = element.isValidEmailAddress(`fname.lname@@gmail.com`)
                    assert.equal(emailAddress, false)
                });
                test(`when email do have name `, () => {
                    const emailAddress = element.isValidEmailAddress(`@@gmail.com`)
                    assert.equal(emailAddress, false)
                });
                test(`when email contains many . dots`, () => {
                    const emailAddress = element.isValidEmailAddress(`fname..lname@@gmail.com`)
                    assert.equal(emailAddress, false)
                });
                test(`when top doamin is missing  + `, () => {
                    const emailAddress = element.isValidEmailAddress(`first.lastname@domain`)
                    assert.equal(emailAddress, false)
                });
                test(`when email contains many dots in top doamin+ `, () => {
                    const emailAddress = element.isValidEmailAddress(`first.lastname@domain...com`)
                    assert.equal(emailAddress, false)
                });

            })


            suite(`ValidSwedishTelephoneNumber`, function () {

                test(`when phone number conatins many zeros`, () => {
                    const phoneNo = element.isValidSwedishTelephoneNumber(`073000000`)
                    expect(phoneNo).to.be.equal(true)
                });
                //Report, Failure coutry code 0046 failed
                test(`when the phone conatin 00`, () => {
                    const phoneNo = element.isValidSwedishTelephoneNumber(`004673000000`)
                    expect(phoneNo).to.be.equal(false)
                });
                test(`when using + contry code`, () => {
                    const phoneNo = element.isValidSwedishTelephoneNumber(`+4673000000`)
                    expect(phoneNo).to.be.equal(true)
                });
                test(`when the phone is landline`, () => {
                    const phoneNo = element.isValidSwedishTelephoneNumber(`010-0000000`)
                    expect(phoneNo).to.be.equal(true)
                });

            })

            suite(`NOT ValidSwedishTelephoneNumber`, function () {

                test(`when phone conatins string`, () => {
                    const phoneNo = element.isValidSwedishTelephoneNumber(`asd12345`)
                    expect(phoneNo).to.be.equal(false)
                });
                test(`when phone contians special characters`, () => {
                    const phoneNo = element.isValidSwedishTelephoneNumber(`#07346512`)
                    expect(phoneNo).to.be.equal(false)
                });
                test(`when phone input is blank`, () => {
                    const phoneNo = element.isValidSwedishTelephoneNumber(``)
                    expect(phoneNo).to.be.equal(false)
                });

            })


            suite(`isValidApartmentNumberPattern`, function () {

                test(`when the floor contains 0 zero `, () => {
                    const apartmentNo = element.isValidApartmentNumberPattern(`0010`)
                    expect(apartmentNo).to.be.equal(true)
                });
                test(`when the location contains 0 zero `, () => {
                    const apartmentNo = element.isValidApartmentNumberPattern(`1100`)
                    expect(apartmentNo).to.be.equal(true)
                });


            })

            suite(`NOT isValidApartmentNumberPattern`, function () {

                test(`when the apartmentNo contains special characters`, () => {
                    const apartmentNo = element.isValidApartmentNumberPattern(`110#`)
                    expect(apartmentNo).to.be.equal(false)
                });
                test(`when the apartmentNo contains spaces `, () => {
                    const apartmentNo = element.isValidApartmentNumberPattern(`11  01`)
                    expect(apartmentNo).to.be.equal(false)
                });


            })

            suite(`isValidOrganisationNumber,isValidOrganisationNumberPattern`, function () {

                test(`when the number contain 12 digit`, () => {
                    let apartmentNo = element.isValidOrganisationNumber(`123456789012`)
                    expect(apartmentNo).to.be.equal(true)
                    apartmentNo = element.isValidOrganisationNumberPattern(`123456789012`)
                    expect(apartmentNo).to.be.equal(true)
                });


            })

            suite(`NOT isValidOrganisationNumber,isValidOrganisationNumberPattern`, function () {

                test(`when the number contains spaces `, () => {
                    let apartmentNo = element.isValidOrganisationNumber(`1234567  89012`)
                    expect(apartmentNo).to.be.equal(false)
                    apartmentNo = element.isValidOrganisationNumberPattern(`1234567  89012`)
                    expect(apartmentNo).to.be.equal(false)
                });
                test(`when the orgnization not swedish case less,more digit `, () => {
                    const apartmentNo = element.isValidOrganisationNumber(`12345678`)
                    expect(apartmentNo).to.be.equal(false)
                });
                test(`when the orgnization not swedish contains string `, () => {
                    const apartmentNo = element.isValidOrganisationNumber(`HA999`)
                    expect(apartmentNo).to.be.equal(false)
                });


            })



        });

    </script>

</body>

</html>