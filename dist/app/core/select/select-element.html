<link rel="import" href="/assets/libs/polymer/polymer.html">

<link rel="import" href="/app/core/x-icon/x-icon.html">

<dom-module id="select-element">
    <template>
        <style>

        :host {
            position: relative;
            display: -ms-flexbox;
            display: flex;
            margin: 0 0 2.4rem 0;
            -ms-flex-negative: 0;
                flex-shrink: 0;
        }

        :host:after {
            content: "";
            display: block;
            position: absolute;
            pointer-events: none;
            right: 1.2em;
            top: 0;
            height: 100%;
            width: 1.6em;
            z-index: 1;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAMAAABcOc2zAAAAElBMVEUAAAAAPW0APGkAO2kAO2oAOmnvfr5kAAAABXRSTlMAFVWq6tvsEkIAAAA3SURBVHgBVctJCgAgFMPQ/MH7X9mNgZpdC485X0Nt7i3oPBpgEgAPCUAkEAkCCUQCkQCRwFpwAf8AAeFLcAhvAAAAAElFTkSuQmCC");
            background-position: center center;
            background-size: 50%;
            background-repeat: no-repeat;
        }

        x-icon {
            display: none;
        }

        :host ::content select {
            background-color: black;
            -ms-flex-negative: 0;
                flex-shrink: 0;
            padding: 0.8em 3.2em 0.8em 1.6em;
            box-sizing: border-box;
            border: none;
            border-radius: 3em;
            width: calc(100% + 0.6em);
            box-shadow: none;
            background-image: none;
            -webkit-appearance: none;
               -moz-appearance: none;
                    appearance: none;
            color: black;
            color: #222222;
            font-family: 'corporate-s', sans-serif;
            font-size: 1.6rem;
            font-weight: 700;
        }

        :host ::content select::-ms-expand {
            padding: 0.8em 1.6em;
            width: calc(100% + 1.6em);
            border: none;
            box-shadow: none;
            background-color: transparent;
            background-image: none;
            appearance: none;
            color: black;
            color: #222222;
            font-family: 'corporate-s', sans-serif;
            font-size: 1.6rem;
            font-weight: 700;
            display: none;
        }

        :host([icon]) ::content select {
            padding-left: 3.2em;
        }

        :host([icon]) x-icon {
            display: block;
            height: 19px;
            left: 1.6em;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 2.2em;
            height: 2.2em;
            fill: #222222;
        }

        :host ::content select:focus {
            outline: none;
            box-shadow: 0 0 10px 0 rgba(0,0,0,.12),0 6px 10px 0 rgba(0,0,0,.24);
        }

        :host ::content .visuallyhidden {
            border: 0;
            clip: rect(0 0 0 0);
            height: 1px;
            margin: -1px;
            overflow: hidden;
            padding: 0;
            position: absolute;
            width: 1px;
        }

        </style>
        <x-icon id="icon" name="{{icon}}"></x-icon>
        <content></content>

   </template>

    <script>"use strict";

Polymer({
    is: "select-element",
    properties: {
        icon: {
            type: String,
            reflectToAttribute: true,
            observer: "_iconChanged"
        },
        selectedIcon: {
            type: String
        }
    },

    _iconChanged: function _iconChanged(icon) {
        this.$.icon.setAttribute("icon", icon);
    }
});</script>

</dom-module>